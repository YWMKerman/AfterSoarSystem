@Kopernicus:FOR[AfterSolarSystem]
{
	useOnDemand = True
	Body
	{
		name = Enceladus
		finalizeOrbit = False
		flightGlobalsIndex = 16
        randomMainMenuBody = False
		identifier = SolarSystem/Enceladus
		cacheFile = AfterSolarSystem/ASSKopernicus/Cache/Enceladus.bin
		Template
		{
			name = Laythe
			removeAllPQSMods = True
		}
		Debug
		{
			exportMesh = False
			update = False
		}
		Orbit
		{
			referenceBody = 			Saturn
			semiMajorAxis = 			2.384135230201840E+08
			eccentricity = 				6.284921668973979E-03
			inclination = 				6.466817492448196E+00
			meanAnomalyAtEpochD = 		1.635787481415736E+00
			longitudeOfAscendingNode =  1.306021558460018E+02
			argumentOfPeriapsis = 		1.191099820711119E+02
			color = 					RGB(147,158,183)
			iconTexture = AfterSolarSystem/Textures/PluginData/Enceladus_icon.dds
		}
		Properties
		{
			radius = 227474
			gravParameter = 6186464068.46077
			displayName = #ASS_Enceladus_name//Enceladus
			description = #ASS_Enceladus_desc//The huge tidal force is pulling on this space snowball, tearing hundreds of cracks thousands of meters deep on its surface. The liquid water inside the snowball gushes out under high pressure, forming space fountains hundreds of kilometers high.   \n \n <color=#D5CDFF>Perhaps you can notice that this huge snowball reflects a faint blue light under the sun. That is the result of reflection from the numerous crystals on the surface of the Enceladus. But these crystals are both fragile and very strong at the same time.
			initialRotation = 0
			albedo = 0.807254
			isHomeWorld = False
			solarRotationPeriod = False
			timewarpAltitudeLimits = 35000 35000 35000 35000 35000 35000 35000 35000
			biomeMap = AfterSolarSystem/Textures/PluginData/Enceladus_Biomes.dds
            Biomes                                                       
			{
				Biome
				{
					name = BlueiCE  // 蓝冰原
					displayName = #ASS_Enceladus_Biome1
					color = RGBA(0,0,47,255)
					value = 1.0
				}
				Biome
				{
					name = 南极山谷
					displayName = #ASS_Enceladus_Biome2
					color = RGBA(150,120,147,255)
					value = 1.0
				}
				Biome
				{
					name = ice  // 冰原
					displayName = #ASS_Enceladus_Biome3
					color = RGBA(43,35,35,255)
					value = 1.0
				}
				Biome
				{
					name = hills  // 丘陵
					displayName = #ASS_Enceladus_Biome4
					color = RGBA(255,255,255,255)
					value = 1.0
				}
				Biome
				{
					name = ciff  // 裂缝
					displayName = #ASS_Enceladus_Biome5
					color = RGBA(0,0,0,255)
					value = 1.0
				}
            }			
			ScienceValues
			{
				landedDataValue = 10.64
				flyingLowDataValue =  9.85
				flyingHighDataValue =  9.32
				inSpaceLowDataValue = 9.28
				inSpaceHighDataValue = 8.35
				recoveryValue = 9
				flyingAltitudeThreshold = 15000
				spaceAltitudeThreshold = 140000
			}
		}
		ScaledVersion
		{
			type = Atmospheric
			fadeStart = 150000
			fadeEnd = 152000
			OnDemand
			{
				texture = AfterSolarSystem/Textures/PluginData/Enceladus_Color.dds
				normals = AfterSolarSystem/Textures/PluginData/Enceladus_NRM.dds
			}
			Material
			{
				color = 0.9,0.9,0.9,1
				shininess = 0.15
				specColor = 0.2,0.2,0.2,1

				rimPower = 1.46
				rimBlend = 0.22
				rimColorRamp = AfterSolarSystem/Textures/PluginData/PlutoRimColorRamp.dds
			}
		}
		Atmosphere				
		{				
			enabled = True			
			oxygen = False			
			altitude = 35000			
			adiabaticIndex = 1.40			
			atmosphereMolarMass = 0.028	

				// N2 99.88%
				// CH4 0.10%
				// NH3 0.02%

			temperatureSeaLevel = 176.15			
			staticPressureASL =	2.05356E-02	
			ambientColor = 0.18,0.18,0.18,1	
			temperatureCurve				
			{				
				key =	0	146	0.00000E+00	0.00000E+00
				key =	2980	146	0.00000E+00	-3.64964E-04
				key =	5720	145	-3.64964E-04	-7.88955E-04
				key =	8255	143	-7.88955E-04	-2.11327E-03
				key =	10621	138	-2.11327E-03	-2.68577E-03
				key =	12855	132	-2.68577E-03	-1.38632E-03
				key =	15019	129	-1.38632E-03	-1.40977E-03
				key =	17147	126	-1.40977E-03	-1.43266E-03
				key =	19241	123	-1.43266E-03	-1.93986E-03
				key =	21303	119	-1.93986E-03	-1.96754E-03
				key =	23336	115	-1.96754E-03	-1.49626E-03
				key =	25341	112	-1.49626E-03	-1.51515E-03
				key =	27321	109	-1.51515E-03	-1.53296E-03
				key =	29278	106	-1.53296E-03	-1.03146E-03
				key =	31217	104	-1.03146E-03	-1.04058E-03
				key =	33139	102	-1.04058E-03	-5.37346E-04
				key =	35000	101	-5.37346E-04	0.00000E+00
			}				
			temperatureSunMultCurve				
			{				
				key =	0	1.000	0.00000E+00	-1.65772E-04
				key =	2980	0.506	-1.65772E-04	-1.43066E-04
				key =	5720	0.114	-1.43066E-04	-1.05325E-04
				key =	8255	-0.153	-1.05325E-04	-5.57904E-05
				key =	10621	-0.285	-5.57904E-05	-4.92390E-06
				key =	12855	-0.296	-4.92390E-06	1.10906E-05
				key =	15019	-0.272	1.10906E-05	1.97368E-05
				key =	17147	-0.230	1.97368E-05	2.57880E-05
				key =	19241	-0.176	2.57880E-05	3.00679E-05
				key =	21303	-0.114	3.00679E-05	3.19725E-05
				key =	23336	-0.049	3.19725E-05	3.14214E-05
				key =	25341	0.014	3.14214E-05	3.03030E-05
				key =	27321	0.074	3.03030E-05	2.60603E-05
				key =	29278	0.125	2.60603E-05	2.11449E-05
				key =	31217	0.166	2.11449E-05	1.35276E-05
				key =	33139	0.192	1.35276E-05	4.83611E-06
				key =	35000	0.201	4.83611E-06	0.00000E+00
			}				
			temperatureLatitudeBiasCurve				
			{				
				key =	0	13.57	0	0
				key =	38	0	-0.6877	-0.6877
				key =	90	-50.43	-1.117	0
			}				
			temperatureLatitudeSunMultCurve				
			{				
				key =	0	71	0	0
				key =	38	60.4	-0.5373	-0.5373
				key =	90	21	-0.8727	0
			}				
			temperatureAxialSunBiasCurve				
			{				
				key =	0	-20.98	0	-0.2955
				key =	38.90785781	-26.96	0	0
				key =	128.9078578	0	0.4705	0.4705
				key =	218.9078578	26.96	0	0
				key =	308.9078578	0	-0.4705	-0.4705
				key =	360	-20.98	-0.2955	0
			}				
			temperatureAxialSunMultCurve				
			{				
				key =	0	0	0	0
				key =	38	0.5	0.02	0.02
				key =	90	1	0	0
			}				
			temperatureEccentricityBiasCurve				
			{				
				key =	0	4.45	0	-8.9
				key =	1	-4.45	-8.9	0
			}				
			pressureCurve				
			{				
				key =	0		2.05356E-02	0.00000E+00	-3.79853E-06
				key =	2980	1.15480E-02	-2.33110E-06	-2.33110E-06
				key =	5720	6.49394E-03	-1.42160E-06	-1.42160E-06
				key =	8255	3.65181E-03	-8.60643E-07	-8.60643E-07
				key =	10621	2.05356E-03	-5.16811E-07	-5.16811E-07
				key =	12855	1.15480E-03	-3.04795E-07	-3.04795E-07
				key =	15019	6.49394E-04	-1.74345E-07	-1.74345E-07
				key =	17147	3.65181E-04	-9.96726E-08	-9.96726E-08
				key =	19241	2.05356E-04	-5.69453E-08	-5.69453E-08
				key =	21303	1.15480E-04	-3.25091E-08	-3.25091E-08
				key =	23336	6.49394E-05	-1.85424E-08	-1.85424E-08
				key =	25341	3.65181E-05	-1.05653E-08	-1.05653E-08
				key =	27321	2.05356E-05	-6.01317E-09	-6.01317E-09
				key =	29278	1.15480E-05	-3.41798E-09	-3.41798E-09
				key =	31217	6.49394E-06	-1.94011E-09	-1.94011E-09
				key =	33139	3.65181E-06	-1.09956E-09	-1.09956E-09
				key =	35000	0.00000E+00	0.00000E+00	0.00000E+00
			}	
			AtmosphereFromGround 
			{
				DEBUG_alwaysUpdateAll = False 
				doScale = True 
				innerRadius = 226166 
				invWaveLength = 3.71682024,5.01561308,6.08249521,0.5
				outerRadius = 233160.9 
				samples = 4
				transformScale = 1.02499998,1.02499998,1.02499998 
				waveLength = 0.720206618,0.668219268,0.63676554,0
				outerRadiusMult = 1.025 
				innerRadiusMult = 0.97 
			}			
		}		
		Ocean		// 液态水，氨 构成的湖	
		{
			ocean = True
			minLevel = 2
			maxLevel = 8		
			oceanHeight = 0
			density = 0.946 // 67.4% 液态水  // 32.6% 氨

			oceanColor = 2,2,2,1
			Material
			{
				color = 2,2,2,2
				colorFromSpace = 1,1,1,1
				specColor = 0.7,0.7,0.7,1
				shininess = 0.35
				gloss = 0.42
				tiling = 128
				waterTex = BUILTIN/dresSteepDiffuse
				waterTex1 = BUILTIN/dresSteepDiffuse
				displacement = 0.0012
				texDisplacement = 0.02
				dispFreq = 0.0012
				mix = 0
				oceanOpacity = 0.001
				falloffPower = 3
				falloffExp = 0.05
				fogColor = 1,1,1,1
				heightFallOff = 0.2
				atmosphereDepth = 50000
			}
		}		
		PQS
		{
			
			minLevel = 2
			maxLevel = 10
			deactivateAltitude = 187000
			fadeStart = 152000
			fadeEnd = 167000
			maxQuadLengthsPerFrame = 0.03
			materialType = AtmosphericTriplanarZoomRotation
			Material
			{
				factor = 9
				factorBlendWidth = 0.01
				factorRotation = 30
				
				saturation = 0.75
				contrast = 1
				tintColor = 1,1,1,0
				specularColor = 0.75,0.75,0.75,1
				albedoBrightness = 3.5
				
				steepPower = 1
				steepTexStart = 20000
				steepTexEnd = 30000
				steepTex = AfterSolarSystem/Terrain/PluginData/Stone04.dds
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = AfterSolarSystem/Terrain/PluginData/Stone04_NRM.dds
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 1500
				steepTiling = 100

				lowTex = AfterSolarSystem/Terrain/PluginData/Stone04.dds
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowTiling = 140000

				midTex = AfterSolarSystem/Terrain/PluginData/Stone04.dds
				midTexScale = 1,1
				midTexOffset = 0,0
				midTiling = 180000

				midBumpMap = AfterSolarSystem/Terrain/PluginData/Stone04_NRM.dds
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midBumpTiling = 180000

				highTex = AfterSolarSystem/Terrain/PluginData/Stone06.dds
				highTexScale = 1,1
				highTexOffset = 0,0
				highTiling = 160000

				lowStart = -1
				lowEnd = -1
				highStart = 2
				highEnd = 2
				
				globalDensity = 0.85			
				
				planetOpacity = 1
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 1.55
				tintColor = 1,1,1,0
				texTiling = 1000
				texPower = 0.3
				multiPower = 0.3
				groundTexStart = 20000
				groundTexEnd = 60000
				multiFactor = 0.5
				mainTex = BUILTIN/SandyGround
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 0
			}
			Mods
			{
				VertexColorMapBlend
				{
					map = AfterSolarSystem/Textures/PluginData/Enceladus_Color.dds
					blend = 1
					order = 9999993
					enabled = True
					name = _Color
				}
				VertexHeightMap
				{
					map = AfterSolarSystem/Textures/PluginData/Enceladus_Height.dds
					offset =   -2000
					deformity = 5496
					scaleDeformityByRadius = False
					order = 9999993
					enabled = True
					name = _Height
				}
				VertexHeightMap
				{
					map = AfterSolarSystem/Textures/PluginData/Enceladus_oblate.dds
					offset = 0
					deformity = 7603.84
					scaleDeformityByRadius = false
					order = 11
					enabled = true
				}
				LandControl
				{
					altitudeBlend = 0
					altitudeFrequency = 1
					altitudeOctaves = 1
					altitudePersistance = 1
					altitudeSeed = 1
					createColors = True
					createScatter = True
					latitudeBlend = 0
					latitudeFrequency = 1
					latitudeOctaves = 1
					latitudePersistance = 1
					latitudeSeed = 1
					longitudeBlend = 0
					longitudeFrequency = 1
					longitudeOctaves = 1
					longitudePersistance = 1
					longitudeSeed = 1
					useHeightMap = False
					vHeightMax = 10000
					order = 999999
					enabled = True
					name = _Scatter
					Scatters
					{
						Value	
						{
							name = EnceladusCrystal00
							materialType = Diffuse
							mesh = AfterSolarSystem/Terrain/Crystal_00.obj
							castShadows = True
							densityFactor = 1
							maxCache = 512
							maxCacheDelta = 32
							maxLevelOffset = 0
							maxScale = 6
							maxScatter = 500
							maxSpeed = 300
							minScale = 3
							recieveShadows = True
							seed = 8964
							verticalOffset = -0.05
							instancing = True
							rotation = 0 360
							useBetterDensity = True
							spawnChance = 1
							ignoreDensityGameSetting = False
							delete = False
							Material
							{
								color = 2,2,3,1
								mainTex = AfterSolarSystem/Terrain/PluginData/Stone00.dds
							}
						}
						Value		
						{
							name = EnceladusCrystal01
							materialType = Diffuse
							mesh = AfterSolarSystem/Terrain/Crystal_01.obj
							castShadows = True
							densityFactor = 1
							maxCache = 512
							maxCacheDelta = 32
							maxLevelOffset = 0
							maxScale = 7
							maxScatter = 350
							maxSpeed = 300
							minScale = 4
							recieveShadows = True
							seed = 19890604
							verticalOffset = -0.05
							instancing = True
							rotation = 0 360
							useBetterDensity = True
							spawnChance = 1
							ignoreDensityGameSetting = False
							delete = False
							Material
							{
								color = 3,3,5,1
								mainTex = AfterSolarSystem/Terrain/PluginData/Stone01.dds
							}
						}
						Value		
						{
							name = EnceladusSharpIce
							materialType = Diffuse
							mesh = AfterSolarSystem/Terrain/SharpStones_00.obj
							castShadows = True
							densityFactor = 1
							maxCache = 512
							maxCacheDelta = 32
							maxLevelOffset = 0
							maxScale = 20
							maxScatter = 30
							maxSpeed = 300
							minScale = 10
							recieveShadows = True
							seed = 2441
							verticalOffset = -0.05
							instancing = False
							rotation = 0 360
							useBetterDensity = True
							spawnChance = 1
							ignoreDensityGameSetting = False
							delete = False
							Material
							{
								color = 3,3,3,1
								mainTex = AfterSolarSystem/Terrain/PluginData/Stone04.dds
							}
						}
					}
					LandClasses
					{
						Value
						{
							alterApparentHeight = 0
							alterRealHeight = 0
							color = 0,0,0,0
							coverageBlend = 0
							coverageFrequency = 1
							coverageOctaves = 1
							coveragePersistance = 1
							coverageSeed = 1
							name = Surface
							latDelta = 1
							latitudeDouble = False
							lonDelta = 1
							minimumRealHeight = 0
							noiseBlend = 0
							noiseColor = 0,0,0,0
							noiseFrequency = 1
							noiseOctaves = 1
							noisePersistance = 1
							noiseSeed = 1
							delete = False
							altitudeRange
							{
								endEnd = 10
								endStart = 10
								startEnd = 0
								startStart = 0
							}
							latitudeDoubleRange
							{
								endEnd = 1
								endStart = 1
								startEnd = 0
								startStart = 0
							}
							latitudeRange
							{
								endEnd = 1
								endStart = 1
								startEnd = 0
								startStart = 0
							}
							longitudeRange
							{
								endEnd = 2
								endStart = 2
								startEnd = -1
								startStart = -1
							}
							Scatters
							{
								Value
								{
									density = 1
									scatterName = EnceladusCrystal00
									delete = False
								}
								Value
								{
									density = 1
									scatterName = EnceladusCrystal01
									delete = False
								}
								Value
								{
									density = 1
									scatterName = EnceladusSharpIce
									delete = False
								}
							}
						}
					}
				}
			}
		}
	}
}
